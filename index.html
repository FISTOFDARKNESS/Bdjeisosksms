<script>
  async function copyKey() {
    try {
      const res = await fetch('getKey');
      if (!res.ok) {
        if (res.status === 404) {
          alert("Error: Key file not found (404).");
        } else {
          alert(`Error: Failed to get key (Status: ${res.status})`);
        }
        return;
      }
      const data = await res.json();
      await navigator.clipboard.writeText(data.key);
      alert("Key copied!");
    } catch (error) {
      alert("Error: Unable to fetch the key or copy it.");
      console.error(error);
    }
  }
</script>
