<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>Login/Register</title>  
  <link rel="stylesheet" href="auth.css">  
</head>  
<body>  
  <div class="container">  
    <form class="form" id="authForm">  
      <p class="title" id="formTitle">Login</p>  
      <input placeholder="Username" class="input" type="text" id="username" required />  
      <input placeholder="Password" class="input" type="password" id="password" required />  
      <button class="btn" type="submit" id="submitBtn">Login</button>  
      <span class="switch" onclick="toggleForm()">Don't have an account? Register</span>  
      <p class="message" id="message"></p>  
    </form>  
  </div>  
  
  <script>  
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1369253288540766219/32J0wMHj7EvUigC5OgCrBcBBJVWDU2SnyOUvVijcoyAmeQN7ZRa7clLS6xAssIOKPJME";  
  
    let isLogin = true;  
  
    function toggleForm() {  
      isLogin = !isLogin;  
      document.getElementById("formTitle").textContent = isLogin ? "Login" : "Register";  
      document.getElementById("submitBtn").textContent = isLogin ? "Login" : "Register";  
      document.querySelector(".switch").textContent = isLogin  
        ? "Don't have an account? Register"  
        : "Already have an account? Login";  
      clearMessage();
    }  
  
    document.getElementById("authForm").addEventListener("submit", function (e) {  
      e.preventDefault();  
      const username = document.getElementById("username").value.trim();  
      const password = document.getElementById("password").value;  
      const users = JSON.parse(localStorage.getItem("users") || "{}");  
  
      const messageEl = document.getElementById("message");  
  
      if (isLogin) {  
        if (users[username] && users[username] === password) {  
          localStorage.setItem("loggedInUser", username);  
          sendWebhook(`${username} has successfully logged into the system.`);  
          window.location.href = "index.html";  
        } else {  
          showMessage("Invalid username or password. Please try again.", "#e74c3c");  
        }  
      } else {  
        if (users[username]) {  
          showMessage("This username is already registered. Try logging in instead.", "#f39c12");  
        } else {  
          users[username] = password;  
          localStorage.setItem("users", JSON.stringify(users));  
          sendWebhook(`${username} has successfully created a new account.`);  
          showMessage("Registration complete! You can now log in.", "#2ecc71");  
          setTimeout(toggleForm, 1500);  
        }  
      }  
    });  
  
    function showMessage(text, color) {
      const msg = document.getElementById("message");
      msg.textContent = text;
      msg.style.color = color;
    }

    function clearMessage() {
      const msg = document.getElementById("message");
      msg.textContent = "";
    }
  
    function sendWebhook(content) {  
      fetch(WEBHOOK_URL, {  
        method: "POST",  
        headers: {  
          "Content-Type": "application/json"  
        },  
        body: JSON.stringify({  
          content: content  
        })  
      });  
    }  
  </script>  
</body>  
</html>